import{u as T,a as N,b as y,r as d,j as e,C as u,c as v,d as p,e as m,L as t,I as l,T as b,B as g,s as k}from"./index-CUeOdhnQ.js";import{T as U,a as $,b as C,c as E}from"./tabs-C8U4FbYT.js";const P=()=>{const{data:r,isLoading:L}=T(),{toast:_}=N(),S=y(),[a,n]=d.useState({}),[c,x]=d.useState({}),[h,f]=d.useState({});d.useEffect(()=>{r&&(n(r.personal_info||{}),x(r.location||{}),f(r.social_links||{}))},[r]);const j=async(s,i)=>{const{error:o}=await k.from("site_settings").update({value:i}).eq("key",s);o?_({title:"Error",description:o.message,variant:"destructive"}):(_({title:"Saved!"}),S.invalidateQueries({queryKey:["site-settings"]}))};return L?e.jsx("p",{children:"Loading..."}):e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Site Settings"}),e.jsxs(u,{children:[e.jsx(v,{children:e.jsx(p,{children:"Personal Information"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs(U,{defaultValue:"en",children:[e.jsxs($,{className:"grid w-full grid-cols-3",children:[e.jsx(C,{value:"en",children:"English"}),e.jsx(C,{value:"bn",children:"বাংলা"}),e.jsx(C,{value:"ar",children:"العربية"})]}),["en","bn","ar"].map(s=>e.jsxs(E,{value:s,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs(t,{children:["Name (",s.toUpperCase(),")"]}),e.jsx(l,{value:a[`name_${s}`]||"",onChange:i=>n({...a,[`name_${s}`]:i.target.value})})]}),e.jsxs("div",{children:[e.jsxs(t,{children:["Title (",s.toUpperCase(),")"]}),e.jsx(l,{value:a[`title_${s}`]||"",onChange:i=>n({...a,[`title_${s}`]:i.target.value})})]}),e.jsxs("div",{children:[e.jsxs(t,{children:["Subtitle (",s.toUpperCase(),")"]}),e.jsx(b,{value:a[`subtitle_${s}`]||"",onChange:i=>n({...a,[`subtitle_${s}`]:i.target.value})})]})]},s))]}),e.jsxs("div",{children:[e.jsx(t,{children:"Profile Image URL"}),e.jsx(l,{value:a.profile_image_url||"",onChange:s=>n({...a,profile_image_url:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"CV URL (English)"}),e.jsx(l,{value:a.cv_url_en||"",onChange:s=>n({...a,cv_url_en:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(t,{children:"CV URL (Arabic)"}),e.jsx(l,{value:a.cv_url_ar||"",onChange:s=>n({...a,cv_url_ar:s.target.value})})]})]}),e.jsx(g,{onClick:()=>j("personal_info",a),children:"Save Personal Info"})]})]}),e.jsxs(u,{children:[e.jsx(v,{children:e.jsx(p,{children:"Location"})}),e.jsxs(m,{className:"space-y-4",children:[["en","bn","ar"].map(s=>e.jsxs("div",{children:[e.jsxs(t,{children:["Location Text (",s.toUpperCase(),")"]}),e.jsx(l,{value:c[`text_${s}`]||"",onChange:i=>x({...c,[`text_${s}`]:i.target.value})})]},s)),e.jsxs("div",{children:[e.jsx(t,{children:"Google Maps Embed URL"}),e.jsx(b,{value:c.maps_embed||"",onChange:s=>x({...c,maps_embed:s.target.value})})]}),e.jsx(g,{onClick:()=>j("location",c),children:"Save Location"})]})]}),e.jsxs(u,{children:[e.jsx(v,{children:e.jsx(p,{children:"Social Links"})}),e.jsxs(m,{className:"space-y-4",children:[Object.entries(h).map(([s,i])=>e.jsxs("div",{children:[e.jsx(t,{className:"capitalize",children:s}),e.jsx(l,{value:i||"",onChange:o=>f({...h,[s]:o.target.value})})]},s)),e.jsx(g,{onClick:()=>j("social_links",h),children:"Save Social Links"})]})]})]})};export{P as default};
