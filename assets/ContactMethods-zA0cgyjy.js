import{o as v,a as f,b as p,j as e,B as u,C as m,c as g,d as C,e as b,L as l,I as d,s as c}from"./index-CUeOdhnQ.js";import{T as y}from"./TrilingualInput-DZYQSLcg.js";import{P as _,T as w}from"./trash-2-Ew6vRLH_.js";import"./tabs-C8U4FbYT.js";const q=()=>{const{data:r,isLoading:h}=v(),{toast:n}=f(),i=p(),t=async(s,a)=>{const{error:o}=await c.from("contact_methods").update(a).eq("id",s);o?n({title:"Error",description:o.message,variant:"destructive"}):(n({title:"Saved!"}),i.invalidateQueries({queryKey:["contact-methods"]}))},x=async()=>{const s=r!=null&&r.length?Math.max(...r.map(o=>o.sort_order||0))+1:0,{error:a}=await c.from("contact_methods").insert({label:"New Method",sort_order:s});a?n({title:"Error",description:a.message,variant:"destructive"}):(n({title:"Added!"}),i.invalidateQueries({queryKey:["contact-methods"]}))},j=async s=>{const{error:a}=await c.from("contact_methods").delete().eq("id",s);a?n({title:"Error",description:a.message,variant:"destructive"}):(n({title:"Deleted!"}),i.invalidateQueries({queryKey:["contact-methods"]}))};return h?e.jsx("p",{children:"Loading..."}):e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contact Methods"}),e.jsxs(u,{onClick:x,children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add"]})]}),r==null?void 0:r.map(s=>e.jsxs(m,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between",children:[e.jsx(C,{children:s.label}),e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>j(s.id),children:e.jsx(w,{className:"h-4 w-4 text-destructive"})})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Icon Name"}),e.jsx(d,{defaultValue:s.icon_name||"",onBlur:a=>t(s.id,{icon_name:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Label"}),e.jsx(d,{defaultValue:s.label,onBlur:a=>t(s.id,{label:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Value"}),e.jsx(d,{defaultValue:s.value||"",onBlur:a=>t(s.id,{value:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Link"}),e.jsx(d,{defaultValue:s.link||"",onBlur:a=>t(s.id,{link:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Color Classes"}),e.jsx(d,{defaultValue:s.color||"",onBlur:a=>t(s.id,{color:a.target.value})})]}),e.jsx(y,{label:"Hint",valueEn:s.hint_en||"",valueBn:s.hint_bn||"",valueAr:s.hint_ar||"",onChangeEn:a=>t(s.id,{hint_en:a}),onChangeBn:a=>t(s.id,{hint_bn:a}),onChangeAr:a=>t(s.id,{hint_ar:a})}),e.jsxs("div",{children:[e.jsx(l,{children:"Sort Order"}),e.jsx(d,{type:"number",defaultValue:s.sort_order||0,onBlur:a=>t(s.id,{sort_order:parseInt(a.target.value)})})]})]})]},s.id))]})};export{q as default};
